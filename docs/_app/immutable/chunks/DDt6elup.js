import{U as v,h as e,a as k,V as p,a8 as O,a9 as Y,aa as q,ab as F,s as H,a5 as b,a7 as N,W as h,a6 as A,ac as U,c as g,ad as B,ae as C,p as M,af as P,S as V}from"./fBKsZc_b.js";function Z(f,t,[r,i]=[0,0]){e&&r===0&&k();var s=f,a=null,c=null,l=U,o=r>0?p:0,u=!1;const D=(T,n=!0)=>{u=!0,E(n,T)},E=(T,n)=>{if(l===(l=T))return;let S=!1;if(e&&i!==-1){if(r===0){const I=O(s);I===Y?i=0:I===q?i=1/0:(i=parseInt(I.substring(1)),i!==i&&(i=l?1/0:-1))}const L=i>r;!!l===L&&(s=F(),H(s),b(!1),S=!0,i=-1)}l?(a?N(a):n&&(a=h(()=>n(s))),c&&A(c,()=>{c=null})):(c?N(c):n&&(c=h(()=>n(s,[r+1,i]))),a&&A(a,()=>{a=null})),S&&b(!0)};v(()=>{u=!1,t(D),u||E(null,null)},o),e&&(s=g)}function j(f,t,r){e&&k();var i=f,s,a;v(()=>{s!==(s=t())&&(a&&(A(a),a=null),s&&(a=h(()=>r(i,s))))},p),e&&(i=g)}function R(f,t){return f===t||(f==null?void 0:f[V])===t}function w(f={},t,r,i){return B(()=>{var s,a;return C(()=>{s=a,a=[],M(()=>{f!==r(...a)&&(t(f,...a),s&&R(r(...s),f)&&t(null,...s))})}),()=>{P(()=>{a&&R(r(...a),f)&&t(null,...a)})}}),f}export{w as b,j as c,Z as i};
