import{U as v,h as e,a as g,V as k,ab as O,ac as Y,ad as q,ae as F,s as H,a5 as b,a7 as N,W as I,a6 as A,af as U,c as p,ag as B,ah as C,p as M,ai as P,S as V}from"./BPDHRfgS.js";function Z(f,t,[r,i]=[0,0]){e&&r===0&&g();var s=f,a=null,c=null,l=U,o=r>0?k:0,u=!1;const D=(T,n=!0)=>{u=!0,E(n,T)},E=(T,n)=>{if(l===(l=T))return;let S=!1;if(e&&i!==-1){if(r===0){const h=O(s);h===Y?i=0:h===q?i=1/0:(i=parseInt(h.substring(1)),i!==i&&(i=l?1/0:-1))}const L=i>r;!!l===L&&(s=F(),H(s),b(!1),S=!0,i=-1)}l?(a?N(a):n&&(a=I(()=>n(s))),c&&A(c,()=>{c=null})):(c?N(c):n&&(c=I(()=>n(s,[r+1,i]))),a&&A(a,()=>{a=null})),S&&b(!0)};v(()=>{u=!1,t(D),u||E(null,null)},o),e&&(s=p)}function j(f,t,r){e&&g();var i=f,s,a;v(()=>{s!==(s=t())&&(a&&(A(a),a=null),s&&(a=I(()=>r(i,s))))},k),e&&(i=p)}function R(f,t){return f===t||(f==null?void 0:f[V])===t}function w(f={},t,r,i){return B(()=>{var s,a;return C(()=>{s=a,a=[],M(()=>{f!==r(...a)&&(t(f,...a),s&&R(r(...s),f)&&t(null,...s))})}),()=>{P(()=>{a&&R(r(...a),f)&&t(null,...a)})}}),f}export{w as b,j as c,Z as i};
