import"../chunks/CWj6FrbW.js";import{Z as k,_ as w,al as y,a0 as g,a1 as f,a8 as Z,a9 as z,am as oe,t as I,D as v,aa as V,Y as q,u as N,$ as B,R as G,F as S,ak as E,ay as re,az as ne,E as se}from"../chunks/BPDHRfgS.js";import{a as D,d as ie}from"../chunks/CNFzSxtU.js";import{e as $,i as F,c as le,d as ce}from"../chunks/CeGCxFmL.js";import{e as ue,C as de,c as he}from"../chunks/BbPmYcEe.js";import{c as me,b as ve,i as Q}from"../chunks/Ciwnyvbx.js";import{s as pe,p as R}from"../chunks/BGHNdZ29.js";import{s as ee}from"../chunks/eHHU1_O2.js";import{b as fe}from"../chunks/D_VEXIsp.js";var K={},J={},H=34,O=10,P=13;function te(t){return new Function("d","return {"+t.map(function(e,a){return JSON.stringify(e)+": d["+a+'] || ""'}).join(",")+"}")}function ge(t,e){var a=te(t);return function(o,s){return e(a(o),s,t)}}function X(t){var e=Object.create(null),a=[];return t.forEach(function(o){for(var s in o)s in e||a.push(e[s]=s)}),a}function A(t,e){var a=t+"",o=a.length;return o<e?new Array(e-o+1).join(0)+a:a}function ye(t){return t<0?"-"+A(-t,6):t>9999?"+"+A(t,6):A(t,4)}function be(t){var e=t.getUTCHours(),a=t.getUTCMinutes(),o=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ye(t.getUTCFullYear())+"-"+A(t.getUTCMonth()+1,2)+"-"+A(t.getUTCDate(),2)+(s?"T"+A(e,2)+":"+A(a,2)+":"+A(o,2)+"."+A(s,3)+"Z":o?"T"+A(e,2)+":"+A(a,2)+":"+A(o,2)+"Z":a||e?"T"+A(e,2)+":"+A(a,2)+"Z":"")}function _e(t){var e=new RegExp('["'+t+`
\r]`),a=t.charCodeAt(0);function o(r,c){var b,u,d=s(r,function(T,p){if(b)return b(T,p-1);u=T,b=c?ge(T,c):te(T)});return d.columns=u||[],d}function s(r,c){var b=[],u=r.length,d=0,T=0,p,C=u<=0,x=!1;r.charCodeAt(u-1)===O&&--u,r.charCodeAt(u-1)===P&&--u;function W(){if(C)return J;if(x)return x=!1,K;var j,U=d,M;if(r.charCodeAt(U)===H){for(;d++<u&&r.charCodeAt(d)!==H||r.charCodeAt(++d)===H;);return(j=d)>=u?C=!0:(M=r.charCodeAt(d++))===O?x=!0:M===P&&(x=!0,r.charCodeAt(d)===O&&++d),r.slice(U+1,j-1).replace(/""/g,'"')}for(;d<u;){if((M=r.charCodeAt(j=d++))===O)x=!0;else if(M===P)x=!0,r.charCodeAt(d)===O&&++d;else if(M!==a)continue;return r.slice(U,j)}return C=!0,r.slice(U,u)}for(;(p=W())!==J;){for(var L=[];p!==K&&p!==J;)L.push(p),p=W();c&&(L=c(L,T++))==null||b.push(L)}return b}function i(r,c){return r.map(function(b){return c.map(function(u){return l(b[u])}).join(t)})}function h(r,c){return c==null&&(c=X(r)),[c.map(l).join(t)].concat(i(r,c)).join(`
`)}function m(r,c){return c==null&&(c=X(r)),i(r,c).join(`
`)}function _(r){return r.map(n).join(`
`)}function n(r){return r.map(l).join(t)}function l(r){return r==null?"":r instanceof Date?be(r):e.test(r+="")?'"'+r.replace(/"/g,'""')+'"':r}return{parse:o,parseRows:s,format:h,formatBody:m,formatRows:_,formatRow:n,formatValue:l}}var we=_e(","),xe=we.parse,ke=k('<section id="demo-link"><h2>Link</h2> <p><a href="elements">Default element styles demo</a></p> <p><a href="fonts">Pudding-hosted font previews</a></p></section>');function Ce(t){var e=ke();w(t,e)}var Te=k('<section id="demo-image"><h2>Image</h2> <p>img tag</p> <img src="../assets/demo/test.jpg" alt="cat" class="svelte-o47y6s"/> <p>background image</p> <div class="svelte-o47y6s"></div></section>');function Ae(t){var e=Te();w(t,e)}var De=k('<section id="demo-element"><h2>Dynamic Svelte Element</h2> <!></section>');function Ie(t){const e=[{tag:"h3",text:"I am a h3 tag."},{tag:"p",text:"I am p tag."}];var a=De(),o=y(g(a),2);$(o,17,()=>e,F,(s,i)=>{let h=()=>v(i).tag,m=()=>v(i).text;var _=Z(),n=z(_);ue(n,h,!1,(l,r)=>{var c=oe();I(()=>D(c,m())),w(r,c)}),w(s,_)}),f(a),w(t,a)}var Se=k("<p> </p>");function Me(t,e){var a=Se(),o=g(a);f(a),I(()=>D(o,`I am component A and my favorite number is ${e.number??""}.`)),w(t,a)}var Re=k("<p> </p>");function Ee(t,e){var a=Re(),o=g(a);f(a),I(()=>D(o,`I am component B and my name is ${e.name??""}.`)),w(t,a)}var We=k('<section id="demo-component"><h2>Dynamic Svelte Component</h2> <!></section>');function Le(t){const e={A:Me,B:Ee},a=[{component:"A",number:42},{component:"B",name:"Russell"}];var o=We(),s=y(g(o),2);$(s,17,()=>a,F,(i,h)=>{var m=Z();const _=V(()=>e[v(h).component]);var n=z(m);me(n,()=>v(_),(l,r)=>{r(l,pe(()=>v(h)))}),w(i,m)}),f(o),w(t,o)}var je=k("<div><!></div>");function Ue(t,e){q(e,!0);let a=R(e,"root",3,null),o=R(e,"top",3,0),s=R(e,"bottom",3,0),i=R(e,"increments",3,100),h=R(e,"value",15,void 0),m=[],_=[],n=[],l=[],r;function c(){let p=0,C=0;for(let x=0;x<m.length;x++)m[x]>p&&(p=m[x],C=x);p>0?h(C):h(void 0)}function b(p,C){const x=Y=>{Y[0].isIntersecting;const ae=Y[0].intersectionRatio;m[C]=ae,c()},W=o()?o()*-1:0,L=s()?s()*-1:0,j=`${W}px 0px ${L}px 0px`,U={root:a(),rootMargin:j,threshold:_};l[C]&&l[C].disconnect();const M=new IntersectionObserver(x,U);M.observe(p),l[C]=M}function u(){n.length&&n.forEach(b)}N(()=>{for(let p=0;p<i()+1;p++)_.push(p/i());n=r.querySelectorAll(":scope > *:not(iframe)"),u()}),N(()=>{o(),s(),u()});var d=je(),T=g(d);ee(T,()=>e.children??G),f(d),ve(d,p=>r=p,()=>r),w(t,d),B()}var ze=k('<div><p class="svelte-12sq0x6"> </p></div>'),Oe=k('<section id="scrolly"><h2 class="svelte-12sq0x6">Scrolly <span> </span></h2> <div class="spacer svelte-12sq0x6"></div> <!> <div class="spacer svelte-12sq0x6"></div></section>');function Ne(t){let e=E(void 0);var a=Oe(),o=g(a),s=y(g(o)),i=g(s,!0);f(s),f(o);var h=y(o,4);Ue(h,{get value(){return v(e)},set value(m){S(e,m,!0)},children:(m,_)=>{var n=Z(),l=z(n);$(l,16,()=>[0,1,2,3,4],F,(r,c,b)=>{var u=ze();const d=V(()=>v(e)===b);let T;var p=g(u),C=g(p,!0);f(p),f(u),I(x=>{T=le(u,1,"step svelte-12sq0x6",null,T,x),D(C,c)},[()=>({active:v(d)})]),w(r,u)}),w(m,n)},$$slots:{default:!0}}),re(2),f(a),I(()=>D(i,v(e)||"-")),w(t,a)}const Ve='{"body":[{"section":"intro","content":[{"type":"text","value":"<span class=playable data-id=unlimited>Listen to this line</span> from the musical Wicked."},{"type":"text","value":"As a nod to The Wizard of Oz, Wicked composer Stephen Schwartz <a href=https://musicalschwartz.com/wicked-musical-themes.htm target=_blank>borrowed</a> the notes from “Somewhere Over The Rainbow”, put a different chord underneath, and slightly changed the rhythm. It’s pretty subtle and probably not something a listener would discern, but a nice callback to the musical’s original source material."},{"type":"text","value":"<span class=playable>Unlimited</span> vs. <span class=playable>Somewhere Over The Rainbow</span>"},{"type":"text","value":"What really makes this “unlimited” line iconic though, is that it repeats 3 times throughout the show, all at pivotal moments for the main character, Elphaba. Each time it’s repeated, it builds in emotional depth, subconsciously transporting you back to the earlier occurrences and prompting the audience to reflect on the change we’ve seen. (notice how the last one is in a different key, and features the lyrics “I’m limited” rather than “unlimited”)"},{"type":"ArcViz","value":{"id":"unlimited","musical":"wicked","title":"Wicked: “Unlimited” motif"}},{"type":"text","value":"This kind of thing happens in lots of art forms, from <a href=# target=_blank>film scores</a> to <a href=https://pudding.cool/2018/02/stand-up/ target=_blank>standup sets</a>. Depending on the medium, you might call it a theme, a callback, reincorporation. Repetition that creates structure and meaning."},{"type":"text","value":"Musically, the word <strong>motif</strong> describes a short, recurring musical idea, which could be melodic, rhythmic, or harmonic. Composers have been using this for forever. Think Beethoven’s 5th, where <span class=playable>da-da-da-DUM</span> repeats and reappears throughout the piece."},{"type":"text","value":"In the 19th century, German composers started formalizing the idea of attaching a motif to a person, place, or idea within a story (these specific kinds of motifs are referred to as leitmotifs). Think <span class=playable>Peter and the Wolf</span>, where different instruments and melodies represent different animals in the woods. Or the theme from Star Wars where you can tell that <span class=playable>Darth Vader is coming</span> by hearing that signature melody."},{"type":"text","value":"This creates a musical storytelling shortcut - you can convey story and emotional information without words, just music. The audience can feel this information even if they can’t consciously perceive how it’s being delivered."},{"type":"text","value":"~“Up” opening sequence example?~"},{"type":"text","value":"This technique has been embraced in many mediums from film scores to opera to modern musical theater."}]},{"section":"level-up","content":[{"type":"text","value":"Let’s look at all of the motifs in Wicked. Here, I’m just looking at recurring <strong>melodic</strong> ideas that are <strong>sung</strong> (excluding things happening in the orchestra), because those are the most obvious to perceive. There are 6 total, including “unlimited.”"},{"type":"ArcViz","value":{"id":"wicked","musical":"wicked","title":"Wicked: All motifs"}},{"type":"text","value":"Now, I love Wicked, but it is not my favorite musical. That’s because I’m a music / story nerd, and I know that if I really want to see this technique of conveying story and emotion through melody, I should look elsewhere:"},{"type":"ArcViz","value":{"id":"lesmis","musical":"lesmis","title":"Les Misérables: All motifs","interactive":"false"}},{"type":"text","value":"Les Miserables is a musical that’s known for its heavy use of motifs. The musical is sung-through (like an opera), there is almost no spoken dialogue at all, different from Wicked, which has less than half as many songs separated by lots of spoken dialogue. So in Les Miserables, this musical structure does a lot to help the audience both understand and feel the emotional impact of the story."}]},{"section":"techniques","content":[{"type":"text","value":"Let’s look at some of the ways that Les Miserables uses motifs to convey information."},{"type":"h2","value":"When a motif represents a character"},{"type":"text","value":"Leitmotifs, sometimes we represent a character. This can help cue the audience, helps follow the plot."},{"type":"text","value":"[viz of all Les Mis motifs but you can filter by character]"},{"type":"text","value":"Here are some of JVJ’s signature motifs, it changes as we transition to the second act and years pass."},{"type":"ArcViz","value":{"id":"character-motif","musical":"lesmis","title":"Les Misérables: Character motifs"}},{"type":"text","value":"Another cool subset of this is when a character’s motif is handed to a new character, like “I’m Not That Girl” in Wicked. (although this is more a motif that represents an idea)"},{"type":"ArcViz","value":{"id":"character-switch","musical":"wicked","title":"Wicked: “I’m Not That Girl”"}},{"type":"h2","value":"When a motif represents an idea (basic, A/B structure)"},{"type":"h2","value":"Same motif, new emotion"},{"type":"h2","value":"When all of them come together"},{"type":"h2","value":"When one from the very beginning comes back at the end"}]},{"section":"hamilton","content":[{"type":"text","value":"Hamilton! Not sure where I’ll put this yet."},{"type":"ArcViz","value":{"id":"hamilton","musical":"hamilton","title":"Hamilton: All Motifs"}}]}]}';var qe=k('<p> </p> <progress max="100"></progress>',1);function Be(t,e){let a=R(e,"label",3,"A"),o=R(e,"value",3,0);var s=qe(),i=z(s),h=g(i,!0);f(i);var m=y(i,2);I(()=>{D(h,a()),ce(m,o())}),w(t,s)}var $e=k('<section id="cms"><h2>MicroCMS</h2> <code><pre> </pre></code> <!></section>');function Fe(t,e){q(e,!0);const{body:a}=he,o={Test:Be};var s=$e(),i=y(g(s),2),h=g(i),m=g(h,!0);f(h),f(i);var _=y(i,2);de(_,{get components(){return o},get body(){return a}}),f(s),I(n=>D(m,n),[()=>Ve.replace(/\t/g," ")]),w(t,s),B()}const Je=(t,e=G)=>{var a=He(),o=g(a),s=g(o,!0);f(o);var i=y(o,2),h=g(i,!0);f(i),f(a),I(()=>{D(s,e().name),D(h,e().age)}),w(t,a)};var He=k('<div class="person svelte-1ltx6da"><p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p></div>'),Pe=(t,e)=>ne(e),Ze=(t,e)=>e.random(Math.floor(Math.random()*10)),Ge=k('<h2>Svelte5</h2> <h3>Reactive variables 3 ways:</h3> <button class="svelte-1ltx6da">count++</button> <p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p> <h3>Children (previously slots):</h3> <div class="children"><!></div> <h3>Dispatch Event</h3> <button class="svelte-1ltx6da">Random</button>  <h3>Snippets</h3> <div class="people svelte-1ltx6da"></div>',1);function Ye(t,e){q(e,!0),R(e,"age",3,30);const a=[{name:"John",age:30},{name:"Jill",age:45}];let o=E(0),s=V(()=>v(o)*2),i=V(()=>v(o)*2),h=E(0);N(()=>{S(h,v(o)*2)});var m=Ge(),_=y(z(m),4);_.__click=[Pe,o];var n=y(_,2),l=g(n);f(n);var r=y(n,2),c=g(r);f(r);var b=y(r,2),u=g(b);f(b);var d=y(b,4),T=g(d);ee(T,()=>e.children??G),f(d);var p=y(d,4);p.__click=[Ze,e];var C=y(p,4);$(C,21,()=>a,F,(x,W)=>{Je(x,()=>v(W))}),f(C),I(()=>{D(l,`${v(o)??""} doubled is ${v(s)??""} (derived)`),D(c,`${v(o)??""} doubled is ${v(i)??""} (derived by)`),D(u,`${v(o)??""} doubled is ${v(h)??""} ($effect)`)}),w(t,m),B()}ie(["click"]);const Qe=(t,e)=>{let a=E(se(t)),o=E(null),s=E(!0),i=E(void 0);const h=(n=!0)=>{S(s,n,!0),n===!0&&(S(i,null),S(o,null))},m=async()=>{try{const n=await fetch(v(a),e);if(!n.ok)throw new Error(`Unexpected error occurred (status ${n.status})`);let l;if(v(a).includes(".csv")){const r=await n.text();l=xe(r)}else l=await n.json();return[null,l]}catch(n){const{errorMessage:l="Unexpected error eccurred"}=n;return[l,null]}},_=async n=>{h(!0);const[l,r]=await m();if(n===v(a)){if(l){h(!1),S(i,l,!0);return}h(!1),S(o,r,!0)}};return N(()=>{_(v(a))}),{get data(){return v(o)},get loading(){return v(s)},get error(){return v(i)},get url(){return v(a)},set url(n){v(a)!==n&&S(a,n,!0)}}};var Ke=k("<p>loading data...</p>"),Xe=k("<p> </p>"),et=k("<p>data loaded</p> <pre> </pre>",1),tt=k('<div class="c"><h2>Load Data</h2> <div class="response"><!></div></div>');function at(t,e){q(e,!0);const a=`${fe}/assets/demo/test.csv`,o=Qe(a);N(()=>{});var s=tt(),i=y(g(s),2),h=g(i);{var m=n=>{var l=Ke();w(n,l)},_=(n,l)=>{{var r=b=>{var u=Xe(),d=g(u);f(u),I(()=>D(d,`error: ${o.error??""}`)),w(b,u)},c=b=>{var u=et(),d=y(z(u),2),T=g(d,!0);f(d),I(p=>D(T,p),[()=>JSON.stringify(o.data,null,2)]),w(b,u)};Q(n,b=>{o.error?b(r):b(c,!1)},l)}};Q(h,n=>{o.loading?n(m):n(_,!1)})}f(i),f(s),w(t,s),B()}var ot=k('<div id="demo" class="svelte-m1ilu3"><h1>Demo</h1> <!> <!> <!> <!> <!> <!> <!> <!></div>');function rt(t){let e=E(0);function a(c){console.log(c)}var o=ot(),s=y(g(o),2);Ye(s,{random:a,get value(){return v(e)},set value(c){S(e,c,!0)}});var i=y(s,2);Ce(i);var h=y(i,2);Ae(h);var m=y(h,2);Ie(m);var _=y(m,2);Le(_);var n=y(_,2);Fe(n,{});var l=y(n,2);at(l,{});var r=y(l,2);Ne(r),f(o),w(t,o)}function vt(t){rt(t)}export{vt as component};
