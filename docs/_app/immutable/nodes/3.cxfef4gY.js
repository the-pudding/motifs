import"../chunks/CWj6FrbW.js";import{Z as k,_ as x,al as y,a0 as g,a1 as f,a8 as Z,a9 as W,am as oe,t as M,D as p,aa as B,Y as q,u as U,$ as N,R as G,F as I,ak as R,ay as ne,az as re,E as se}from"../chunks/BPDHRfgS.js";import{a as T,d as ie}from"../chunks/CNFzSxtU.js";import{e as H,i as $,c as le,d as ce}from"../chunks/CeGCxFmL.js";import{e as he,C as ue,c as de}from"../chunks/B2QsMR5m.js";import{c as me,b as pe,i as Q}from"../chunks/Ciwnyvbx.js";import{s as ve,p as j}from"../chunks/BGHNdZ29.js";import{s as ee}from"../chunks/eHHU1_O2.js";import{b as fe}from"../chunks/Bv7xs0Kc.js";var K={},F={},J=34,O=10,P=13;function te(t){return new Function("d","return {"+t.map(function(e,a){return JSON.stringify(e)+": d["+a+'] || ""'}).join(",")+"}")}function ge(t,e){var a=te(t);return function(o,s){return e(a(o),s,t)}}function X(t){var e=Object.create(null),a=[];return t.forEach(function(o){for(var s in o)s in e||a.push(e[s]=s)}),a}function A(t,e){var a=t+"",o=a.length;return o<e?new Array(e-o+1).join(0)+a:a}function ye(t){return t<0?"-"+A(-t,6):t>9999?"+"+A(t,6):A(t,4)}function be(t){var e=t.getUTCHours(),a=t.getUTCMinutes(),o=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ye(t.getUTCFullYear())+"-"+A(t.getUTCMonth()+1,2)+"-"+A(t.getUTCDate(),2)+(s?"T"+A(e,2)+":"+A(a,2)+":"+A(o,2)+"."+A(s,3)+"Z":o?"T"+A(e,2)+":"+A(a,2)+":"+A(o,2)+"Z":a||e?"T"+A(e,2)+":"+A(a,2)+"Z":"")}function we(t){var e=new RegExp('["'+t+`
\r]`),a=t.charCodeAt(0);function o(n,c){var b,h,u=s(n,function(S,v){if(b)return b(S,v-1);h=S,b=c?ge(S,c):te(S)});return u.columns=h||[],u}function s(n,c){var b=[],h=n.length,u=0,S=0,v,C=h<=0,_=!1;n.charCodeAt(h-1)===O&&--h,n.charCodeAt(h-1)===P&&--h;function E(){if(C)return F;if(_)return _=!1,K;var z,V=u,D;if(n.charCodeAt(V)===J){for(;u++<h&&n.charCodeAt(u)!==J||n.charCodeAt(++u)===J;);return(z=u)>=h?C=!0:(D=n.charCodeAt(u++))===O?_=!0:D===P&&(_=!0,n.charCodeAt(u)===O&&++u),n.slice(V+1,z-1).replace(/""/g,'"')}for(;u<h;){if((D=n.charCodeAt(z=u++))===O)_=!0;else if(D===P)_=!0,n.charCodeAt(u)===O&&++u;else if(D!==a)continue;return n.slice(V,z)}return C=!0,n.slice(V,h)}for(;(v=E())!==F;){for(var L=[];v!==K&&v!==F;)L.push(v),v=E();c&&(L=c(L,S++))==null||b.push(L)}return b}function i(n,c){return n.map(function(b){return c.map(function(h){return l(b[h])}).join(t)})}function d(n,c){return c==null&&(c=X(n)),[c.map(l).join(t)].concat(i(n,c)).join(`
`)}function m(n,c){return c==null&&(c=X(n)),i(n,c).join(`
`)}function w(n){return n.map(r).join(`
`)}function r(n){return n.map(l).join(t)}function l(n){return n==null?"":n instanceof Date?be(n):e.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:o,parseRows:s,format:d,formatBody:m,formatRows:w,formatRow:r,formatValue:l}}var xe=we(","),_e=xe.parse,ke=k('<section id="demo-link"><h2>Link</h2> <p><a href="elements">Default element styles demo</a></p> <p><a href="fonts">Pudding-hosted font previews</a></p></section>');function Ce(t){var e=ke();x(t,e)}var Se=k('<section id="demo-image"><h2>Image</h2> <p>img tag</p> <img src="../assets/demo/test.jpg" alt="cat" class="svelte-o47y6s"/> <p>background image</p> <div class="svelte-o47y6s"></div></section>');function Ae(t){var e=Se();x(t,e)}var Te=k('<section id="demo-element"><h2>Dynamic Svelte Element</h2> <!></section>');function Me(t){const e=[{tag:"h3",text:"I am a h3 tag."},{tag:"p",text:"I am p tag."}];var a=Te(),o=y(g(a),2);H(o,17,()=>e,$,(s,i)=>{let d=()=>p(i).tag,m=()=>p(i).text;var w=Z(),r=W(w);he(r,d,!1,(l,n)=>{var c=oe();M(()=>T(c,m())),x(n,c)}),x(s,w)}),f(a),x(t,a)}var Ie=k("<p> </p>");function De(t,e){var a=Ie(),o=g(a);f(a),M(()=>T(o,`I am component A and my favorite number is ${e.number??""}.`)),x(t,a)}var je=k("<p> </p>");function Re(t,e){var a=je(),o=g(a);f(a),M(()=>T(o,`I am component B and my name is ${e.name??""}.`)),x(t,a)}var Ee=k('<section id="demo-component"><h2>Dynamic Svelte Component</h2> <!></section>');function Le(t){const e={A:De,B:Re},a=[{component:"A",number:42},{component:"B",name:"Russell"}];var o=Ee(),s=y(g(o),2);H(s,17,()=>a,$,(i,d)=>{var m=Z();const w=B(()=>e[p(d).component]);var r=W(m);me(r,()=>p(w),(l,n)=>{n(l,ve(()=>p(d)))}),x(i,m)}),f(o),x(t,o)}var ze=k("<div><!></div>");function Ve(t,e){q(e,!0);let a=j(e,"root",3,null),o=j(e,"top",3,0),s=j(e,"bottom",3,0),i=j(e,"increments",3,100),d=j(e,"value",15,void 0),m=[],w=[],r=[],l=[],n;function c(){let v=0,C=0;for(let _=0;_<m.length;_++)m[_]>v&&(v=m[_],C=_);v>0?d(C):d(void 0)}function b(v,C){const _=Y=>{Y[0].isIntersecting;const ae=Y[0].intersectionRatio;m[C]=ae,c()},E=o()?o()*-1:0,L=s()?s()*-1:0,z=`${E}px 0px ${L}px 0px`,V={root:a(),rootMargin:z,threshold:w};l[C]&&l[C].disconnect();const D=new IntersectionObserver(_,V);D.observe(v),l[C]=D}function h(){r.length&&r.forEach(b)}U(()=>{for(let v=0;v<i()+1;v++)w.push(v/i());r=n.querySelectorAll(":scope > *:not(iframe)"),h()}),U(()=>{o(),s(),h()});var u=ze(),S=g(u);ee(S,()=>e.children??G),f(u),pe(u,v=>n=v,()=>n),x(t,u),N()}var We=k('<div><p class="svelte-12sq0x6"> </p></div>'),Oe=k('<section id="scrolly"><h2 class="svelte-12sq0x6">Scrolly <span> </span></h2> <div class="spacer svelte-12sq0x6"></div> <!> <div class="spacer svelte-12sq0x6"></div></section>');function Ue(t){let e=R(void 0);var a=Oe(),o=g(a),s=y(g(o)),i=g(s,!0);f(s),f(o);var d=y(o,4);Ve(d,{get value(){return p(e)},set value(m){I(e,m,!0)},children:(m,w)=>{var r=Z(),l=W(r);H(l,16,()=>[0,1,2,3,4],$,(n,c,b)=>{var h=We();const u=B(()=>p(e)===b);let S;var v=g(h),C=g(v,!0);f(v),f(h),M(_=>{S=le(h,1,"step svelte-12sq0x6",null,S,_),T(C,c)},[()=>({active:p(u)})]),x(n,h)}),x(m,r)},$$slots:{default:!0}}),ne(2),f(a),M(()=>T(i,p(e)||"-")),x(t,a)}const Be='{"body":[{"section":"intro","content":[{"type":"text","value":"<span class=playable data-id=unlimited>Listen to this line</span> from the musical Wicked."},{"type":"text","value":"As a nod to The Wizard of Oz, Wicked composer Stephen Schwartz <a href=https://musicalschwartz.com/wicked-musical-themes.htm target=_blank>borrowed</a> the notes from “Somewhere Over The Rainbow”, put a different chord underneath, and slightly changed the rhythm. It’s pretty subtle and probably not something a listener would discern, but a nice callback to the musical’s original source material."},{"type":"text","value":"<span class=playable>Unlimited</span> vs. <span class=playable>Somewhere Over The Rainbow</span>"},{"type":"text","value":"What really makes this “unlimited” line iconic though, is that it repeats 3 times throughout the show, all at pivotal moments for the main character, Elphaba. Each time it’s repeated, it builds in emotional depth, subconsciously transporting you back to the earlier occurrences and prompting the audience to reflect on the change we’ve seen. (notice how the last one is in a different key, and features the lyrics “I’m limited” rather than “unlimited”)"},{"type":"ArcViz","value":{"id":"unlimited","musical":"wicked","title":"Wicked: “Unlimited” motif"}},{"type":"text","value":"This kind of thing happens in lots of art forms, from <a href=# target=_blank>film scores</a> to <a href=https://pudding.cool/2018/02/stand-up/ target=_blank>standup sets</a>. Depending on the medium, you might call it a theme, a callback, reincorporation. Repetition that creates structure and meaning."},{"type":"text","value":"Musically, the word <strong>motif</strong> describes a short, recurring musical idea, which could be melodic, rhythmic, or harmonic. Composers have been using this for forever. Think Beethoven’s 5th, where <span class=playable>da-da-da-DUM</span> repeats and reappears throughout the piece."},{"type":"text","value":"In the 19th century, German composers started formalizing the idea of attaching a motif to a person, place, or idea within a story (these specific kinds of motifs are referred to as leitmotifs). Think <span class=playable>Peter and the Wolf</span>, where different instruments and melodies represent different animals in the woods. Or the theme from Star Wars where you can tell that <span class=playable>Darth Vader is coming</span> by hearing that signature melody."},{"type":"text","value":"This creates a musical storytelling shortcut - you can convey story and emotional information without words, just music. The audience can feel this information even if they can’t consciously perceive how it’s being delivered."},{"type":"text","value":"~“Up” opening sequence example?~"},{"type":"text","value":"This technique has been embraced in many mediums from film scores to opera to modern musical theater."}]},{"section":"level-up","content":[{"type":"text","value":"Let’s look at all of the motifs in Wicked. Here, I’m just looking at recurring <strong>melodic</strong> ideas that are <strong>sung</strong> (excluding things happening in the orchestra), because those are the most obvious to perceive. There are 6 total, including “unlimited.”"},{"type":"ArcViz","value":{"id":"wicked","musical":"wicked","title":"Wicked: All motifs"}},{"type":"text","value":"Now, I love Wicked, but it is not my favorite musical. That’s because I’m a music / story nerd, and I know that if I really want to see this technique of conveying story and emotion through melody, I should look elsewhere:"},{"type":"ArcViz","value":{"id":"lesmis","musical":"lesmis","title":"Les Misérables: All motifs","interactive":"false"}},{"type":"text","value":"Les Miserables is a musical that’s known for its heavy use of motifs. The musical is sung-through (like an opera), there is almost no spoken dialogue at all, different from Wicked, which has less than half as many songs separated by lots of spoken dialogue. So in Les Miserables, this musical structure does a lot to help the audience both understand and feel the emotional impact of the story."}]},{"section":"techniques","content":[{"type":"text","value":"Let’s look at some of the ways that Les Miserables uses motifs to convey information."},{"type":"h2","value":"When a motif represents a character"},{"type":"text","value":"Here are some motifs that are strongly associated with specific characters in the show."},{"type":"text","value":"These motifs can help cue the audience that a certain character is present. And as they recur, they gain that emotional weight over time as we see these characters growing and changing."},{"type":"ArcViz","value":{"id":"character-motif","musical":"lesmis","title":"Les Misérables: Character motifs"}},{"type":"text","value":"Some annotations to attach to the chart when each motif is playing:"},{"type":"text","value":"* jvj 1 / jvj 2: Jean Valjean, the main character. This motif often appears when he’s faced with a difficult decision, figuring out what to do. Interestingly, he gets a new character motif right before the end of the first act, when we fast forward several years (his older, more mature version)."},{"type":"text","value":"* cosette: A cute little melody mostly associated with Cosette as a child, but we hear it again near the end of Act 1 when she’s grown up."},{"type":"text","value":"* thenardier waltz: Represents The Thenardiers, the comic relief of the show who are always up to no good, trying to trick people."},{"type":"text","value":"* little people: Represents Gavroche, a courageous young kid who joins the rebellion. Introduced in a fun, light song, and recurs when he’s killed :("},{"type":"text","value":"In Hamilton, there are often literal introductions of characters whose tunes / rhythms carry through the show."},{"type":"ArcViz","value":{"id":"character-motif-hamilton","musical":"hamilton","title":"Hamilton: Character motifs"}},{"type":"h2","value":"When a motif represents an idea (basic, A/B structure)"},{"type":"text","value":"More often, motifs are a marker for something more abstract – love, heartbreak, tension – and not always owned by a specific character."},{"type":"ArcViz","value":{"id":"idea","musical":"lesmis","title":"Les Misérables: Idea motifs"}},{"type":"text","value":"Some annotations to attach to the chart when each motif is playing:"},{"type":"text","value":"* look down: One of the most important, enduring motifs of the show. Sung originally by a chain gang of prisoners, represents struggle and hard times."},{"type":"text","value":"* anguish: Sung in the darkest times of the battle, after someone important has died."},{"type":"text","value":"* god on high: Sounds like a hymn, Valjean praying / appealing to God. Represents mercy, divine protection, vulnerability of asking for help."},{"type":"text","value":"* drink with me: Sung by the students at the barricade, represents friendship and camaraderie in dark times."},{"type":"text","value":"These two motifs often come in a pair, and signal a situation where an authority figure has arrived and wants answers. The response has sort of a de-escalatory tone."},{"type":"ArcViz","value":{"id":"idea-ab","musical":"lesmis","title":"Les Misérables: A/B structure"}},{"type":"h2","value":"Same motif, new emotion"},{"type":"text","value":"This is one of the most powerful things a motif can do. When we hear a sad melody repurposed in a happy moment or vice versa, it brings in an emotional complexity – we feel both together, makes a richer, more layered emotion."},{"type":"ArcViz","value":{"id":"new-emotion","musical":"lesmis","title":"Les Misérables: Motifs with emotional changes"}},{"type":"text","value":"Some annotations to attach to the chart when each motif is playing:"},{"type":"text","value":"* friendship: Introduced at the very start when a bishop helps out Jean Valjean in a time of need, and brought back at the very end when Marius is grieving the loss of all his friends."},{"type":"text","value":"* lovely ladies: Introduced early on when we meet the prostitutes, pimps, and sailors that surround Fantine. Comes back at the end when the women are reflecting on the battle and loss."},{"type":"text","value":"* rain: Sung first by Marius asking Eponine to do him a favor, in a moment where they connect. Comes back when Marius is holding Eponine as she is dying."},{"type":"text","value":"* little people: :("},{"type":"text","value":"Same thing in Hamilton."},{"type":"ArcViz","value":{"id":"new-emotion-hamilton","musical":"hamilton","title":"Hamilton: Motifs with emotional changes"}},{"type":"h2","value":"When all of them come together"},{"type":"h2","value":"When one from the very beginning comes back at the end"},{"type":"text","value":"Turned so cold, On My own, Dream"}]},{"section":"hamilton","content":[{"type":"text","value":"Hamilton! Not sure where I’ll put this yet."},{"type":"ArcViz","value":{"id":"hamilton","musical":"hamilton","title":"Hamilton: All Motifs"}}]}]}';var qe=k('<p> </p> <progress max="100"></progress>',1);function Ne(t,e){let a=j(e,"label",3,"A"),o=j(e,"value",3,0);var s=qe(),i=W(s),d=g(i,!0);f(i);var m=y(i,2);M(()=>{T(d,a()),ce(m,o())}),x(t,s)}var He=k('<section id="cms"><h2>MicroCMS</h2> <code><pre> </pre></code> <!></section>');function $e(t,e){q(e,!0);const{body:a}=de,o={Test:Ne};var s=He(),i=y(g(s),2),d=g(i),m=g(d,!0);f(d),f(i);var w=y(i,2);ue(w,{get components(){return o},get body(){return a}}),f(s),M(r=>T(m,r),[()=>Be.replace(/\t/g," ")]),x(t,s),N()}const Fe=(t,e=G)=>{var a=Je(),o=g(a),s=g(o,!0);f(o);var i=y(o,2),d=g(i,!0);f(i),f(a),M(()=>{T(s,e().name),T(d,e().age)}),x(t,a)};var Je=k('<div class="person svelte-1ltx6da"><p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p></div>'),Pe=(t,e)=>re(e),Ze=(t,e)=>e.random(Math.floor(Math.random()*10)),Ge=k('<h2>Svelte5</h2> <h3>Reactive variables 3 ways:</h3> <button class="svelte-1ltx6da">count++</button> <p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p> <h3>Children (previously slots):</h3> <div class="children"><!></div> <h3>Dispatch Event</h3> <button class="svelte-1ltx6da">Random</button>  <h3>Snippets</h3> <div class="people svelte-1ltx6da"></div>',1);function Ye(t,e){q(e,!0),j(e,"age",3,30);const a=[{name:"John",age:30},{name:"Jill",age:45}];let o=R(0),s=B(()=>p(o)*2),i=B(()=>p(o)*2),d=R(0);U(()=>{I(d,p(o)*2)});var m=Ge(),w=y(W(m),4);w.__click=[Pe,o];var r=y(w,2),l=g(r);f(r);var n=y(r,2),c=g(n);f(n);var b=y(n,2),h=g(b);f(b);var u=y(b,4),S=g(u);ee(S,()=>e.children??G),f(u);var v=y(u,4);v.__click=[Ze,e];var C=y(v,4);H(C,21,()=>a,$,(_,E)=>{Fe(_,()=>p(E))}),f(C),M(()=>{T(l,`${p(o)??""} doubled is ${p(s)??""} (derived)`),T(c,`${p(o)??""} doubled is ${p(i)??""} (derived by)`),T(h,`${p(o)??""} doubled is ${p(d)??""} ($effect)`)}),x(t,m),N()}ie(["click"]);const Qe=(t,e)=>{let a=R(se(t)),o=R(null),s=R(!0),i=R(void 0);const d=(r=!0)=>{I(s,r,!0),r===!0&&(I(i,null),I(o,null))},m=async()=>{try{const r=await fetch(p(a),e);if(!r.ok)throw new Error(`Unexpected error occurred (status ${r.status})`);let l;if(p(a).includes(".csv")){const n=await r.text();l=_e(n)}else l=await r.json();return[null,l]}catch(r){const{errorMessage:l="Unexpected error eccurred"}=r;return[l,null]}},w=async r=>{d(!0);const[l,n]=await m();if(r===p(a)){if(l){d(!1),I(i,l,!0);return}d(!1),I(o,n,!0)}};return U(()=>{w(p(a))}),{get data(){return p(o)},get loading(){return p(s)},get error(){return p(i)},get url(){return p(a)},set url(r){p(a)!==r&&I(a,r,!0)}}};var Ke=k("<p>loading data...</p>"),Xe=k("<p> </p>"),et=k("<p>data loaded</p> <pre> </pre>",1),tt=k('<div class="c"><h2>Load Data</h2> <div class="response"><!></div></div>');function at(t,e){q(e,!0);const a=`${fe}/assets/demo/test.csv`,o=Qe(a);U(()=>{});var s=tt(),i=y(g(s),2),d=g(i);{var m=r=>{var l=Ke();x(r,l)},w=(r,l)=>{{var n=b=>{var h=Xe(),u=g(h);f(h),M(()=>T(u,`error: ${o.error??""}`)),x(b,h)},c=b=>{var h=et(),u=y(W(h),2),S=g(u,!0);f(u),M(v=>T(S,v),[()=>JSON.stringify(o.data,null,2)]),x(b,h)};Q(r,b=>{o.error?b(n):b(c,!1)},l)}};Q(d,r=>{o.loading?r(m):r(w,!1)})}f(i),f(s),x(t,s),N()}var ot=k('<div id="demo" class="svelte-m1ilu3"><h1>Demo</h1> <!> <!> <!> <!> <!> <!> <!> <!></div>');function nt(t){let e=R(0);function a(c){console.log(c)}var o=ot(),s=y(g(o),2);Ye(s,{random:a,get value(){return p(e)},set value(c){I(e,c,!0)}});var i=y(s,2);Ce(i);var d=y(i,2);Ae(d);var m=y(d,2);Me(m);var w=y(m,2);Le(w);var r=y(w,2);$e(r,{});var l=y(r,2);at(l,{});var n=y(l,2);Ue(n),f(o),x(t,o)}function pt(t){nt(t)}export{pt as component};
