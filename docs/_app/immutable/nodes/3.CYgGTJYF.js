import"../chunks/CWj6FrbW.js";import{Z as k,_ as w,ar as b,a0 as g,a1 as f,as as P,aq as U,au as oe,t as I,D as d,at as B,Y as H,u as O,$ as q,R as Z,F as M,ap as j,aG as ne,aH as re,E as ie}from"../chunks/fBKsZc_b.js";import{a as T,e as se}from"../chunks/CriGG3rq.js";import{e as N,i as $,s as le}from"../chunks/BMJXDOGm.js";import{e as ce,c as he}from"../chunks/DxRVT_Vb.js";import{c as ue,b as de,i as Q}from"../chunks/DDt6elup.js";import{s as me,p as z}from"../chunks/BMWhG1yo.js";import{s as ee}from"../chunks/BRN3BfzH.js";import{b as pe}from"../chunks/C50ZH3wS.js";var K={},F={},J=34,W=10,G=13;function te(t){return new Function("d","return {"+t.map(function(e,o){return JSON.stringify(e)+": d["+o+'] || ""'}).join(",")+"}")}function ve(t,e){var o=te(t);return function(a,i){return e(o(a),i,t)}}function X(t){var e=Object.create(null),o=[];return t.forEach(function(a){for(var i in a)i in e||o.push(e[i]=i)}),o}function A(t,e){var o=t+"",a=o.length;return a<e?new Array(e-a+1).join(0)+o:o}function fe(t){return t<0?"-"+A(-t,6):t>9999?"+"+A(t,6):A(t,4)}function ge(t){var e=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":fe(t.getUTCFullYear())+"-"+A(t.getUTCMonth()+1,2)+"-"+A(t.getUTCDate(),2)+(i?"T"+A(e,2)+":"+A(o,2)+":"+A(a,2)+"."+A(i,3)+"Z":a?"T"+A(e,2)+":"+A(o,2)+":"+A(a,2)+"Z":o||e?"T"+A(e,2)+":"+A(o,2)+"Z":"")}function ye(t){var e=new RegExp('["'+t+`
\r]`),o=t.charCodeAt(0);function a(n,l){var y,c,h=i(n,function(C,v){if(y)return y(C,v-1);c=C,y=l?ve(C,l):te(C)});return h.columns=c||[],h}function i(n,l){var y=[],c=n.length,h=0,C=0,v,S=c<=0,_=!1;n.charCodeAt(c-1)===W&&--c,n.charCodeAt(c-1)===G&&--c;function R(){if(S)return F;if(_)return _=!1,K;var L,V=h,D;if(n.charCodeAt(V)===J){for(;h++<c&&n.charCodeAt(h)!==J||n.charCodeAt(++h)===J;);return(L=h)>=c?S=!0:(D=n.charCodeAt(h++))===W?_=!0:D===G&&(_=!0,n.charCodeAt(h)===W&&++h),n.slice(V+1,L-1).replace(/""/g,'"')}for(;h<c;){if((D=n.charCodeAt(L=h++))===W)_=!0;else if(D===G)_=!0,n.charCodeAt(h)===W&&++h;else if(D!==o)continue;return n.slice(V,L)}return S=!0,n.slice(V,c)}for(;(v=R())!==F;){for(var E=[];v!==K&&v!==F;)E.push(v),v=R();l&&(E=l(E,C++))==null||y.push(E)}return y}function u(n,l){return n.map(function(y){return l.map(function(c){return s(y[c])}).join(t)})}function m(n,l){return l==null&&(l=X(n)),[l.map(s).join(t)].concat(u(n,l)).join(`
`)}function p(n,l){return l==null&&(l=X(n)),u(n,l).join(`
`)}function x(n){return n.map(r).join(`
`)}function r(n){return n.map(s).join(t)}function s(n){return n==null?"":n instanceof Date?ge(n):e.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:a,parseRows:i,format:m,formatBody:p,formatRows:x,formatRow:r,formatValue:s}}var be=ye(","),we=be.parse,xe=k('<section id="demo-link"><h2>Link</h2> <p><a href="elements">Default element styles demo</a></p> <p><a href="fonts">Pudding-hosted font previews</a></p></section>');function _e(t){var e=xe();w(t,e)}var ke=k('<section id="demo-image"><h2>Image</h2> <p>img tag</p> <img src="../assets/demo/test.jpg" alt="cat" class="svelte-o47y6s"/> <p>background image</p> <div class="svelte-o47y6s"></div></section>');function Se(t){var e=ke();w(t,e)}var Ce=k('<section id="demo-element"><h2>Dynamic Svelte Element</h2> <!></section>');function Ae(t){const e=[{tag:"h3",text:"I am a h3 tag."},{tag:"p",text:"I am p tag."}];var o=Ce(),a=b(g(o),2);N(a,17,()=>e,$,(i,u)=>{let m=()=>d(u).tag,p=()=>d(u).text;var x=P(),r=U(x);ce(r,m,!1,(s,n)=>{var l=oe();I(()=>T(l,p())),w(n,l)}),w(i,x)}),f(o),w(t,o)}var Te=k("<p> </p>");function Ie(t,e){var o=Te(),a=g(o);f(o),I(()=>T(a,`I am component A and my favorite number is ${e.number??""}.`)),w(t,o)}var Me=k("<p> </p>");function De(t,e){var o=Me(),a=g(o);f(o),I(()=>T(a,`I am component B and my name is ${e.name??""}.`)),w(t,o)}var je=k('<section id="demo-component"><h2>Dynamic Svelte Component</h2> <!></section>');function Re(t){const e={A:Ie,B:De},o=[{component:"A",number:42},{component:"B",name:"Russell"}];var a=je(),i=b(g(a),2);N(i,17,()=>o,$,(u,m)=>{var p=P();const x=B(()=>e[d(m).component]);var r=U(p);ue(r,()=>d(x),(s,n)=>{n(s,me(()=>d(m)))}),w(u,p)}),f(a),w(t,a)}var Ee=k("<div><!></div>");function Le(t,e){H(e,!0);let o=z(e,"root",3,null),a=z(e,"top",3,0),i=z(e,"bottom",3,0),u=z(e,"increments",3,100),m=z(e,"value",15,void 0),p=[],x=[],r=[],s=[],n;function l(){let v=0,S=0;for(let _=0;_<p.length;_++)p[_]>v&&(v=p[_],S=_);v>0?m(S):m(void 0)}function y(v,S){const _=Y=>{Y[0].isIntersecting;const ae=Y[0].intersectionRatio;p[S]=ae,l()},R=a()?a()*-1:0,E=i()?i()*-1:0,L=`${R}px 0px ${E}px 0px`,V={root:o(),rootMargin:L,threshold:x};s[S]&&s[S].disconnect();const D=new IntersectionObserver(_,V);D.observe(v),s[S]=D}function c(){r.length&&r.forEach(y)}O(()=>{for(let v=0;v<u()+1;v++)x.push(v/u());r=n.querySelectorAll(":scope > *:not(iframe)"),c()}),O(()=>{a(),i(),c()});var h=Ee(),C=g(h);ee(C,()=>e.children??Z),f(h),de(h,v=>n=v,()=>n),w(t,h),q()}var Ve=k('<div><p class="svelte-12sq0x6"> </p></div>'),ze=k('<section id="scrolly"><h2 class="svelte-12sq0x6">Scrolly <span> </span></h2> <div class="spacer svelte-12sq0x6"></div> <!> <div class="spacer svelte-12sq0x6"></div></section>');function We(t){let e=j(void 0);var o=ze(),a=g(o),i=b(g(a)),u=g(i,!0);f(i),f(a);var m=b(a,4);Le(m,{get value(){return d(e)},set value(p){M(e,p,!0)},children:(p,x)=>{var r=P(),s=U(r);N(s,16,()=>[0,1,2,3,4],$,(n,l,y)=>{var c=Ve();const h=B(()=>d(e)===y);let C;var v=g(c),S=g(v,!0);f(v),f(c),I(_=>{C=le(c,1,"step svelte-12sq0x6",null,C,_),T(S,l)},[()=>({active:d(h)})]),w(n,c)}),w(p,r)},$$slots:{default:!0}}),ne(2),f(o),I(()=>T(u,d(e)||"-")),w(t,o)}const Oe='{"body":[{"section":"intro","content":[{"type":"text","value":"<span class=playable data-id=unlimited>Listen to this line</span> from the musical Wicked."},{"type":"text","value":"As a nod to The Wizard of Oz, Wicked composer Stephen Schwartz <a href=https://musicalschwartz.com/wicked-musical-themes.htm target=_blank>borrowed</a> the notes from “Somewhere Over The Rainbow”, put a different chord underneath, and slightly changed the rhythm. It’s pretty subtle and probably not something a listener would discern, but a nice callback to the musical’s original source material."},{"type":"text","value":"<span class=playable>Unlimited</span> vs. <span class=playable>Somewhere Over The Rainbow</span>"},{"type":"text","value":"What really makes this “unlimited” line iconic though, is that it repeats 3 times throughout the show, all at pivotal moments for the main character, Elphaba. Each time it’s repeated, it builds in emotional depth, subconsciously transporting you back to the earlier occurrences and prompting the audience to reflect on the change we’ve seen."},{"type":"ArcViz","value":{"id":"unlimited","musical":"wicked","title":"Wicked: “Unlimited” motif"}},{"type":"text","value":"This kind of thing happens in lots of art forms, from <a href=# target=_blank>film scores</a> to <a href=https://pudding.cool/2018/02/stand-up/ target=_blank>standup sets</a>. Depending on the medium, you might call it a theme, a callback, reincorporation. Repetition that creates structure and meaning."},{"type":"text","value":"Musically, the word <strong>motif</strong> describes a short, recurring musical idea, which could be melodic, rhythmic, or harmonic. Composers have been using this for forever. Think Beethoven’s 5th, where <span class=playable>da-da-da-DUM</span> repeats and reappears throughout the piece."},{"type":"text","value":"In the 19th century, German composers started formalizing the idea of attaching a motif to a person, place, or idea within a story (these specific kinds of motifs are referred to as leitmotifs). Think <span class=playable>Peter and the Wolf</span>, where different instruments and melodies represent different animals in the woods. Or the theme from Star Wars where you can tell that <span class=playable>Darth Vader is coming</span> by hearing that signature melody."},{"type":"text","value":"This creates a musical storytelling shortcut - you can convey story and emotional information without words, just music. The audience can feel this information even if they can’t consciously perceive how it’s being delivered."},{"type":"text","value":"[“Up” example?]"},{"type":"text","value":"This technique has been embraced in many mediums from film scores to opera to modern musical theater."}]},{"section":"level-up","content":[{"type":"text","value":"Let’s look at all of the motifs in Wicked. Here, I’m just looking at recurring <strong>melodic</strong> ideas that are <strong>sung</strong> (excluding things happening in the orchestra), because those are the most obvious to perceive. There are 6 total, including “unlimited.”"},{"type":"ArcViz","value":{"id":"wicked","musical":"wicked","title":"Wicked: All motifs"}},{"type":"text","value":"Now, I love Wicked, but it is not my favorite musical. That’s because I’m a music / story nerd, and I know that if I really want to see this technique of conveying story and emotion through melody, I should look elsewhere:"},{"type":"ArcViz","value":{"id":"lesmis","musical":"lesmis","title":"Les Misérables: All motifs","interactive":"false"}},{"type":"text","value":"Les Miserables is a musical that’s known for its heavy use of motifs. The musical is sung-through (like an opera), there is almost no spoken dialogue at all, different from Wicked, which has less than half as many songs separated by lots of spoken dialogue. So in Les Miserables, this musical structure does a lot to help the audience both understand and feel the emotional impact of the story."}]},{"section":"techniques","content":[{"type":"text","value":"Let’s look at some of the ways that Les Miserables uses motifs to convey information."},{"type":"CollapsibleSection","value":{"title":"When a motif represents a character","content":[{"type":"text","value":"Here are some motifs that are strongly associated with specific characters in the show."},{"type":"text","value":"These motifs can help cue the audience that a certain character is present. And as they recur, they gain that emotional weight over time as we see these characters growing and changing."},{"type":"ArcViz","value":{"id":"character-motif","musical":"lesmis","title":"Les Misérables: Character motifs"}},{"type":"text","value":"Some annotations to attach to the chart when each motif is playing:"},{"type":"text","value":"* jvj 1 / jvj 2: Jean Valjean, the main character. This motif often appears when he’s faced with a difficult decision, figuring out what to do. Interestingly, he gets a new character motif right before the end of the first act, when we fast forward several years (his older, more mature version)."},{"type":"text","value":"* cosette: A cute little melody mostly associated with Cosette as a child, but we hear it again near the end of Act 1 when she’s grown up."},{"type":"text","value":"* thenardier waltz: Represents The Thenardiers, the comic relief of the show who are always up to no good, trying to trick people."},{"type":"text","value":"* little people: Represents Gavroche, a courageous young kid who joins the rebellion. Introduced in a fun, light song, and recurs when he’s killed :("},{"type":"text","value":"In Hamilton, there are often literal introductions of characters whose tunes / rhythms carry through the show."},{"type":"ArcViz","value":{"id":"character-motif-hamilton","musical":"hamilton","title":"Hamilton: Character motifs"}}]}},{"type":"CollapsibleSection","value":{"title":"When a motif represents an idea","content":[{"type":"text","value":"More often, motifs are a marker for something more abstract – love, heartbreak, tension – and not always owned by a specific character."},{"type":"ArcViz","value":{"id":"idea","musical":"lesmis","title":"Les Misérables: Idea motifs"}},{"type":"text","value":"Some annotations to attach to the chart when each motif is playing:"},{"type":"text","value":"* look down: One of the most important, enduring motifs of the show. Sung originally by a chain gang of prisoners, represents struggle and hard times."},{"type":"text","value":"* anguish: Sung in the darkest times of the battle, after someone important has died."},{"type":"text","value":"* god on high: Sounds like a hymn, Valjean praying / appealing to God. Represents mercy, divine protection, vulnerability of asking for help."},{"type":"text","value":"* drink with me: Sung by the students at the barricade, represents friendship and camaraderie in dark times."},{"type":"text","value":"These two motifs often come in a pair, and signal a situation where an authority figure has arrived and wants answers. The response has sort of a de-escalatory tone."},{"type":"ArcViz","value":{"id":"idea-ab","musical":"lesmis","title":"Les Misérables: A/B structure"}}]}},{"type":"CollapsibleSection","value":{"title":"Same motif, new emotion","content":[{"type":"text","value":"This is one of the most powerful things a motif can do. When we hear a sad melody repurposed in a happy moment or vice versa, it brings in an emotional complexity – we feel both together, makes a richer, more layered emotion."},{"type":"ArcViz","value":{"id":"new-emotion","musical":"lesmis","title":"Les Misérables: Motifs with emotional changes"}},{"type":"text","value":"Some annotations to attach to the chart when each motif is playing:"},{"type":"text","value":"* friendship: Introduced at the very start when a bishop helps out Jean Valjean in a time of need, and brought back at the very end when Marius is grieving the loss of all his friends."},{"type":"text","value":"* lovely ladies: Introduced early on when we meet the prostitutes, pimps, and sailors that surround Fantine. Comes back at the end when the women are reflecting on the battle and loss."},{"type":"text","value":"* rain: Sung first by Marius asking Eponine to do him a favor, in a moment where they connect. Comes back when Marius is holding Eponine as she is dying."},{"type":"text","value":"* little people: :("},{"type":"text","value":"Same thing in Hamilton."},{"type":"ArcViz","value":{"id":"new-emotion-hamilton","musical":"hamilton","title":"Hamilton: Motifs with emotional changes"}},{"type":"text","value":"Some annotations to attach to the chart when each motif is playing:"},{"type":"text","value":"* counting: Goes from confrontational to fun/child-like to tragic"},{"type":"text","value":"* i imagine death: contemplative -> invincible -> actually facing death"}]}},{"type":"CollapsibleSection","value":{"title":"When all of them come together","content":[{"type":"text","value":"Both Les Miserables and Hamilton have a song at the end of the first act where many of the motifs introduced so far all come together."},{"type":"ArcViz","value":{"id":"one-day-more","musical":"lesmis","title":"Les Miserables: One Day More"}},{"type":"ArcViz","value":{"id":"nonstop","musical":"hamilton","title":"Hamilton: Non-Stop"}},{"type":"text","value":"Annotations for each of these Tk"}]}}]},{"section":"explore","content":[{"type":"text","value":"Conclusion Tk something about how this is such a strong force but one that we don’t consciously perceive most of the time, which is cool!"},{"type":"text","value":"Explore all the motifs!"},{"type":"Explore","value":{}},{"type":"text","value":"Hear a motif that I missed? Reach out at michelle@pudding.cool."}]}]}';var Ue=k('<section id="cms"><h2>MicroCMS</h2> <code><pre> </pre></code></section>');function Be(t,e){H(e,!0);const{body:o}=he;var a=Ue(),i=b(g(a),2),u=g(i),m=g(u,!0);f(u),f(i),f(a),I(p=>T(m,p),[()=>Oe.replace(/\t/g," ")]),w(t,a),q()}const He=(t,e=Z)=>{var o=qe(),a=g(o),i=g(a,!0);f(a);var u=b(a,2),m=g(u,!0);f(u),f(o),I(()=>{T(i,e().name),T(m,e().age)}),w(t,o)};var qe=k('<div class="person svelte-1ltx6da"><p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p></div>'),Ne=(t,e)=>re(e),$e=(t,e)=>e.random(Math.floor(Math.random()*10)),Fe=k('<h2>Svelte5</h2> <h3>Reactive variables 3 ways:</h3> <button class="svelte-1ltx6da">count++</button> <p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p> <h3>Children (previously slots):</h3> <div class="children"><!></div> <h3>Dispatch Event</h3> <button class="svelte-1ltx6da">Random</button>  <h3>Snippets</h3> <div class="people svelte-1ltx6da"></div>',1);function Je(t,e){H(e,!0),z(e,"age",3,30);const o=[{name:"John",age:30},{name:"Jill",age:45}];let a=j(0),i=B(()=>d(a)*2),u=B(()=>d(a)*2),m=j(0);O(()=>{M(m,d(a)*2)});var p=Fe(),x=b(U(p),4);x.__click=[Ne,a];var r=b(x,2),s=g(r);f(r);var n=b(r,2),l=g(n);f(n);var y=b(n,2),c=g(y);f(y);var h=b(y,4),C=g(h);ee(C,()=>e.children??Z),f(h);var v=b(h,4);v.__click=[$e,e];var S=b(v,4);N(S,21,()=>o,$,(_,R)=>{He(_,()=>d(R))}),f(S),I(()=>{T(s,`${d(a)??""} doubled is ${d(i)??""} (derived)`),T(l,`${d(a)??""} doubled is ${d(u)??""} (derived by)`),T(c,`${d(a)??""} doubled is ${d(m)??""} ($effect)`)}),w(t,p),q()}se(["click"]);const Ge=(t,e)=>{let o=j(ie(t)),a=j(null),i=j(!0),u=j(void 0);const m=(r=!0)=>{M(i,r,!0),r===!0&&(M(u,null),M(a,null))},p=async()=>{try{const r=await fetch(d(o),e);if(!r.ok)throw new Error(`Unexpected error occurred (status ${r.status})`);let s;if(d(o).includes(".csv")){const n=await r.text();s=we(n)}else s=await r.json();return[null,s]}catch(r){const{errorMessage:s="Unexpected error eccurred"}=r;return[s,null]}},x=async r=>{m(!0);const[s,n]=await p();if(r===d(o)){if(s){m(!1),M(u,s,!0);return}m(!1),M(a,n,!0)}};return O(()=>{x(d(o))}),{get data(){return d(a)},get loading(){return d(i)},get error(){return d(u)},get url(){return d(o)},set url(r){d(o)!==r&&M(o,r,!0)}}};var Pe=k("<p>loading data...</p>"),Ze=k("<p> </p>"),Ye=k("<p>data loaded</p> <pre> </pre>",1),Qe=k('<div class="c"><h2>Load Data</h2> <div class="response"><!></div></div>');function Ke(t,e){H(e,!0);const o=`${pe}/assets/demo/test.csv`,a=Ge(o);O(()=>{});var i=Qe(),u=b(g(i),2),m=g(u);{var p=r=>{var s=Pe();w(r,s)},x=(r,s)=>{{var n=y=>{var c=Ze(),h=g(c);f(c),I(()=>T(h,`error: ${a.error??""}`)),w(y,c)},l=y=>{var c=Ye(),h=b(U(c),2),C=g(h,!0);f(h),I(v=>T(C,v),[()=>JSON.stringify(a.data,null,2)]),w(y,c)};Q(r,y=>{a.error?y(n):y(l,!1)},s)}};Q(m,r=>{a.loading?r(p):r(x,!1)})}f(u),f(i),w(t,i),q()}var Xe=k('<div id="demo" class="svelte-m1ilu3"><h1>Demo</h1> <!> <!> <!> <!> <!> <!> <!> <!></div>');function et(t){let e=j(0);function o(l){console.log(l)}var a=Xe(),i=b(g(a),2);Je(i,{random:o,get value(){return d(e)},set value(l){M(e,l,!0)}});var u=b(i,2);_e(u);var m=b(u,2);Se(m);var p=b(m,2);Ae(p);var x=b(p,2);Re(x);var r=b(x,2);Be(r,{});var s=b(r,2);Ke(s,{});var n=b(s,2);We(n),f(a),w(t,a)}function ht(t){et(t)}export{ht as component};
